<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>6.5. Die Echtheit eines Paketes prüfen</title><link rel="stylesheet" type="text/css" href="Common_Content/css/default.css" /><link rel="stylesheet" media="print" href="Common_Content/css/print.css" type="text/css" /><meta name="generator" content="publican 3.1.5" /><meta name="package" content="Debian-debian-handbook-7-de-DE-1.0-1" /><meta name="keywords" content="apt-get, apt-cache, aptitude, synaptic, sources.list, apt-cdrom" /><link rel="home" href="index.html" title="Das Debian Administrationshandbuch" /><link rel="up" href="apt.html" title="Kapitel 6. Wartung und Aktualisierung: Die APT-Tools" /><link rel="prev" href="sect.apt-frontends.html" title="6.4. Benutzeroberflächen: aptitude, synaptic" /><link rel="next" href="sect.dist-upgrade.html" title="6.6. Von einer Stable Distribution auf die nächste aktualisieren" /></head><body><p id="title"><a class="left" href="http://www.debian.org"><img alt="Product Site" src="Common_Content/images//image_left.png" /></a><a class="right" href="http://debian-handbook.info"><img alt="Documentation Site" src="Common_Content/images//image_right.png" /></a></p><ul class="docnav top"><li class="previous"><a accesskey="p" href="sect.apt-frontends.html"><strong>Zurück</strong></a></li><li class="home">Das Debian Administrationshandbuch</li><li class="next"><a accesskey="n" href="sect.dist-upgrade.html"><strong>Weiter</strong></a></li></ul><div class="section"><div class="titlepage"><div><div><h2 class="title"><a xmlns="" id="sect.package-authentication"></a>6.5. Die Echtheit eines Paketes prüfen</h2></div></div></div><a id="idm139785312211008" class="indexterm"></a><a id="idm139785312209568" class="indexterm"></a><a id="idm139785312208128" class="indexterm"></a><a id="idm139785312206688" class="indexterm"></a><a id="idm139785312205248" class="indexterm"></a><div class="para">
			Sicherheit ist für die Administratoren der Falcot Corp sehr wichtig. Dementsprechend müssen sie sicherstellen, dass sie ausschließlich Pakete installieren, die garantiert von Debian stammen und die unterwegs nicht verändert wurden. Ein Cracker könnte versuchen, Schadcode in ein ansonsten rechtmäßiges Paket einzuschleusen. Ein solches Paket, falls installiert, könnte alles tun, was der Cracker vorgesehen hat, einschließlich der Preisgabe von Passwörtern oder vertraulichen Informationen. Um dies zu verhindern, stellt Debian fälschungssichere Siegel bereit, die – zum Zeitpunkt der Installation – gewährleisten, dass ein Paket wirklich von seinem offiziellen Betreuer stammt und nicht durch einen Dritten verändert wurde.
		</div><div class="para">
			Das Siegel arbeitet mit einer Kette kryptografischer Hashfunktionen und Signaturen. Die signierte Datei ist die von den Debian-Spiegelservern bereitgestellte <code class="filename">Release</code>-Datei. Sie enthält eine Liste der <code class="filename">Packages</code>-Dateien (inklusiver der komprimierten Ausgaben <code class="filename">Packages.gz</code> und <code class="filename">Packages.bz2</code> und der inkrementellen Versionen) zusammen mit ihren MD5, SHA1 und SHA256 Hashes, mit denen sich sicherstellen lässt, dass die Dateien nicht verändert wurden. Diese <code class="filename">Packages</code>-Dateien enthalten eine Liste der auf dem Spiegelserver verfügbaren Pakete zusammen mit ihres Hashes, mit denen wiederum sichergestellt werden kann, dass auch die Pakete ihrerseits nicht verändert wurden.
		</div><a id="idm139785312199280" class="indexterm"></a><a id="idm139785312198160" class="indexterm"></a><a id="idm139785312196736" class="indexterm"></a><a id="idm139785312195616" class="indexterm"></a><div class="para">
			Die vertrauenswürdigen Schlüssel werden mit dem Befehl <code class="command">apt-key</code> aus dem Paket <span class="pkg pkg">apt</span> verwaltet. Dieses Programm pflegt einen Schlüsselbund mit öffentlichen GnuPG Schlüsseln, mit denen die Signaturen in den <code class="filename">Release.gpg</code>-Dateien der Spiegelserver geprüft werden können. Es kann dazu benutzt werden, von Hand neue Schlüssel hinzuzufügen (wenn nicht-offizielle Spiegelserver benötigt werden). Im Allgemeinen werden aber nur die offiziellen Debian Schlüssel benötigt. Diese Schlüssel werden automatisch durch das <span class="pkg pkg">debian-archive-keyring</span>-Paket aktuell gehalten (welches die entsprechenden Schlüsselbunde (keyrings) in <code class="filename">/etc/apt/trusted.gpg.d</code> speichert). Dennoch erfordert die Erstinstallation dieses speziellen Paketes Aufmerksamkeit: Auch wenn dieses Paket wie alle anderen signiert ist, kann dessen Signatur nicht von außen überprüft werden. Vorsichtige Administratoren sollten deshalb die Fingerabdrücke importierter Schlüssel überprüfen, bevor sie ihnen zur Installation neuer Pakete vertrauen:
		</div><pre class="screen scale"># <strong class="userinput"><code>apt-key fingerprint</code></strong>
/etc/apt/trusted.gpg.d//debian-archive-squeeze-automatic.gpg
------------------------------------------------------------
pub   4096R/473041FA 2010-08-27 [expires: 2018-03-05]
      Key fingerprint = 9FED 2BCB DCD2 9CDF 7626  78CB AED4 B06F 4730 41FA
uid                  Debian Archive Automatic Signing Key (6.0/squeeze) &lt;ftpmaster@debian.org&gt;

/etc/apt/trusted.gpg.d//debian-archive-squeeze-stable.gpg
---------------------------------------------------------
pub   4096R/B98321F9 2010-08-07 [expires: 2017-08-05]
      Key fingerprint = 0E4E DE2C 7F3E 1FC0 D033  800E 6448 1591 B983 21F9
uid                  Squeeze Stable Release Key &lt;debian-release@lists.debian.org&gt;

/etc/apt/trusted.gpg.d//debian-archive-wheezy-automatic.gpg
-----------------------------------------------------------
pub   4096R/46925553 2012-04-27 [expires: 2020-04-25]
      Key fingerprint = A1BD 8E9D 78F7 FE5C 3E65  D8AF 8B48 AD62 4692 5553
uid                  Debian Archive Automatic Signing Key (7.0/wheezy) &lt;ftpmaster@debian.org&gt;

/etc/apt/trusted.gpg.d//debian-archive-wheezy-stable.gpg
--------------------------------------------------------
pub   4096R/65FFB764 2012-05-08 [expires: 2019-05-07]
      Key fingerprint = ED6D 6527 1AAC F0FF 15D1  2303 6FB2 A1C2 65FF B764
uid                  Wheezy Stable Release Key &lt;debian-release@lists.debian.org&gt;
</pre><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong><span class="emphasis"><em>IN DER PRAXIS</em></span> Vertrauenswürdige Schlüssel hinzufügen</strong></p></div></div></div><a id="idm139785312186560" class="indexterm"></a><a id="idm139785312185632" class="indexterm"></a><div class="para">
			Wenn eine Paketquellen von Dritten zur <code class="filename">sources.list</code>Datei hinzugefügt wird, muss APT angewiesen werdn, dem zugehörigen GPG-Authentifizierungsschlüssel der Paketquelle zu vertrauen (Andernfalls wird es sich ständig darüber beklagen, dass es die Authentizität der Pakete aus dieser Quelle nicht gewährleisten kann). Der erste Schritt ist natürlich, den öffentlichen GPG-Schlüssel der Paketquelle zu besorgen, der meist in Form einer kleinen Textdatei bereitgestellt wird. In den folgenden Beispielen werden wir sie <code class="filename">key.asc</code> nennen.
		</div><div class="para">
			Um einen Schlüssel zum Schlüsselbund vertrauenswürdiger Schlüssel hinzuzufügen, kann der Administrator <code class="command">apt-key add &lt; key.asc</code> ausführen. Ein anderer Weg ist, die grafische Benutzeroberfläche <code class="command">synaptic</code> zu nutzen: Im Reiter "Authentifizierung" im <span class="guimenu"><strong>Einstellungen</strong></span> → <span class="guisubmenu"><strong>Paketquellen</strong></span> Menü besteht die Möglichkeit, Schlüssel aus der <code class="filename">key.asc</code>-Datei zu importieren.
		</div><a id="idm139785312179280" class="indexterm"></a><div class="para">
			Anwender, die eine eigenständige Anwendung und mehr Details über vertrauenswürdige Schlüssel wünschen, steht mit <code class="command">gui-apt-key</code> (im Paket gleichen Namens) eine grafische Benutzeroberfläche zur Verwaltung des Schlüsselbundes vertrauenswürdiger Schlüssel zur Verfügung.
		</div></div><div class="para">
			Sobald die richtigen Schlüssel im Schlüsselbund sind, prüft APT die Signaturen vor jeder riskanten Operation, damit Benutzeroberflächen eine Warnung einblenden können, falls bei der Installation eines Pakets die Authentizität nicht bestätigt werden kann.
		</div></div><ul class="docnav"><li class="previous"><a accesskey="p" href="sect.apt-frontends.html"><strong>Zurück</strong>6.4. Benutzeroberflächen: aptitude, synaptic</a></li><li class="up"><a accesskey="u" href="#"><strong>Nach oben</strong></a></li><li class="home"><a accesskey="h" href="index.html"><strong>Zum Anfang</strong></a></li><li class="next"><a accesskey="n" href="sect.dist-upgrade.html"><strong>Weiter</strong>6.6. Von einer Stable Distribution auf die nächst...</a></li></ul></body></html>