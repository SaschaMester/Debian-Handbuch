<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>5.3. Struktur eines Quellpakets</title><link rel="stylesheet" type="text/css" href="Common_Content/css/default.css" /><link rel="stylesheet" media="print" href="Common_Content/css/print.css" type="text/css" /><meta name="generator" content="publican 3.1.5" /><meta name="package" content="Debian-debian-handbook-7-de-DE-1.0-1" /><meta name="keywords" content="Binärpaket, Quellpaket, dpkg, Abhängigkeiten, Konflikt" /><link rel="home" href="index.html" title="Das Debian Administrationshandbuch" /><link rel="up" href="packaging-system.html" title="Kapitel 5. Paketierungssystem: Hilfsprogramme und grundlegende Prinzipien" /><link rel="prev" href="sect.package-meta-information.html" title="5.2. Paket-Meta-Information" /><link rel="next" href="sect.manipulating-packages-with-dpkg.html" title="5.4. Pakete mit dpkg handhaben" /></head><body><p id="title"><a class="left" href="http://www.debian.org"><img alt="Product Site" src="Common_Content/images//image_left.png" /></a><a class="right" href="http://debian-handbook.info"><img alt="Documentation Site" src="Common_Content/images//image_right.png" /></a></p><ul class="docnav top"><li class="previous"><a accesskey="p" href="sect.package-meta-information.html"><strong>Zurück</strong></a></li><li class="home">Das Debian Administrationshandbuch</li><li class="next"><a accesskey="n" href="sect.manipulating-packages-with-dpkg.html"><strong>Weiter</strong></a></li></ul><div class="section"><div class="titlepage"><div><div><h2 class="title"><a xmlns="" id="sect.source-package-structure"></a>5.3. Struktur eines Quellpakets</h2></div></div></div><a id="idm139785312739664" class="indexterm"></a><a id="idm139785312738224" class="indexterm"></a><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns="" id="idm139785312736784"></a>5.3.1. Format</h3></div></div></div><a id="idm139785312735984" class="indexterm"></a><a id="idm139785312735024" class="indexterm"></a><a id="idm139785312733744" class="indexterm"></a><a id="idm139785312732464" class="indexterm"></a><div class="para">
				Ein Quellpaket besteht normalerweise aus drei Dateien, einer Datei<code class="filename">.dsc</code>, <code class="filename">.orig.tar.gz</code> und <code class="filename">.debian.tar.gz</code> oder <code class="filename">.diff.gz</code>. Diese ermöglichen es, aus dem in einer Programmiersprache geschriebenen Quellcode Binärpakete (<code class="filename">.deb</code>-Dateien wie weiter oben beschrieben) für das oder die Programm(e) zu erzeugen.
			</div><div class="para">
				Die Datei <code class="filename">.dsc</code> (Debian Source Control) ist eine kurze Textdatei, die einen RFC 2822 Header enthält (genau wie die in <a class="xref" href="sect.package-meta-information.html#sect.control">Abschnitt 5.2.1, „Beschreibung: Die <code class="filename">control</code>-Datei“</a> betrachtete Datei <code class="filename">control</code>), der das Quellpaket beschreibt und angibt, welche anderen Dateien dazugehören. Sie ist von ihrem Betreuer signiert, wodurch Authentizität gewährleistet ist. Siehe <a class="xref" href="sect.package-authentication.html">Abschnitt 6.5, „Die Echtheit eines Paketes prüfen“</a> für weitere Einzelheiten zu diesem Thema.
			</div><div class="example"><a xmlns="" id="idm139785328153840"></a><p class="title"><strong>Beispiel 5.1. Eine <code class="filename">.dsc</code>-Datei</strong></p><div class="example-contents"><pre class="programlisting">
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

Format: 3.0 (quilt)
Source: zim
Binary: zim
Architecture: all
Version: 0.48-1
Maintainer: Emfox Zhou &lt;emfox@debian.org&gt;
Uploaders: Raphaël Hertzog &lt;hertzog@debian.org&gt;
Homepage: http://zim-wiki.org
Standards-Version: 3.9.0
Vcs-Browser: http://svn.debian.org/wsvn/collab-maint/deb-maint/zim/trunk?op=log
Vcs-Svn: svn://svn.debian.org/collab-maint/deb-maint/zim/trunk
Build-Depends: debhelper (&gt;= 7.4.12), python-support (&gt;= 0.8), xdg-utils, python (&gt;= 2.5), libgtk2.0-0 (&gt;= 2.6), python-gtk2, python-xdg, python-simplejson | python (&gt;= 2.6)
Checksums-Sha1: 
 bd84fa5104de5ed85a49723d26b350856de93217 966899 zim_0.48.orig.tar.gz
 352111ff372a20579664416c9abd4970839835b3 9615 zim_0.48-1.debian.tar.gz
Checksums-Sha256: 
 77d8df7dc89b233fdc3aab1a8ad959c6888881ae160770f50bf880a56e02f895 966899 zim_0.48.orig.tar.gz
 0fceab5d3b099075cd38c225fa4002d893c1cdf4bbcc51d1391a34248e1e1a22 9615 zim_0.48-1.debian.tar.gz
Files: 
 88cfc18c0c7339528d5f5f463647bb5f 966899 zim_0.48.orig.tar.gz
 608b6e74aa14252dfc6236ab184bdb0c 9615 zim_0.48-1.debian.tar.gz

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.10 (GNU/Linux)
Comment: Signed by Raphael Hertzog

iQEcBAEBCAAGBQJMSUAfAAoJEAOIHavrwpq5qjUIAKmM8p86GcHYTxMmKENoBUoW
UPi5R7DzrLMbFrUXKgXWLvEKQTXpmkJhh2aSWq2iY+5piBSHwMiITfaBTpdTRvzU
5nT/n9MlF8sJFESet/NgZaMPFDzWUbIy5aYbuG1TXmn/7XiDrBaQGiVqKkVLPrqc
yWhsotn3JNKIjbPDW/DjImYyKD5RZpXrbVjuIgDT1E6yxtNYwUyBlK0cx/GITNep
uV48hsT8cj0paqVXl5+P9Ww8XIE3clxNpE/45/tvKvkqGOeysc6OPAqsIw6HYFY9
0EnvMTfMpeQOA68ZqsNpUjomv5r/EGwdCbAWo5iJDsZzXQ1Feh6iSNrjv3yeRzg=
=qnbh
-----END PGP SIGNATURE-----
</pre></div></div><br class="example-break" /><a id="idm139785328150320" class="indexterm"></a><div class="para">
				Beachten Sie, dass das Quellpaket ebenfalls Abhängigkeiten (<code class="literal">Build-Depends</code>) hat, die jedoch mit denen der Binärpakete nichts gemein haben, da sie die Programme benennen, die erforderlich sind, um die betreffende Software zu kompilieren und sein Binärpaket zu erstellen.
			</div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong><span class="emphasis"><em>VORSICHT</em></span> Unterschiedliche Namensräume</strong></p></div></div></div><div class="para">
				Es ist hier wichtig festzustellen, dass die Namen der Quellpakete und der daraus erstellten Binärpakete nicht korrespondieren müssen. Dies ist leicht einzusehen, wenn man weiß, dass jedes Quellpaket verschiedene Binärpakete erzeugen kann. Daher gibt es in der <code class="filename">.dsc</code>-Datei Zeilen für <code class="literal">Source</code> und <code class="literal">Binary</code>, um so ausdrücklich das Quellpaket und eine Reihe von Binärpaketen zu nennen, die es erzeugen soll.
			</div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong><span class="emphasis"><em>KULTUR</em></span> Warum in mehrere Pakete aufteilen</strong></p></div></div></div><div class="para">
				Nicht selten kann ein Quellpaket (für eine bestimmte Anwendung) verschiedene Binärpakete erzeugen. Die Aufsplittung angebracht, da Software (oder Teile davon) in unterschiedlichen Zusammenhängen verwendet werden kann. Man denke an eine gemeinsam genutzte Bibliothek, die installiert werden kann, um eine Anwendung zum Laufen zu bringen (zum Beispiel <span class="pkg pkg">libc6</span>), oder sie kann benutzt werden, um eine neue Anwendung zu entwickeln (dann wäre <span class="pkg pkg">libc6-dev</span> das richtige Paket). Wir finden den gleichen Gedankengang bei Client/Server-Diensten, bei denen wir den Serverteil auf einem Rechner installieren möchten und den Clientteil auf anderen (dies ist zum Beispiel bei <span class="pkg pkg">openssh-server</span> und <span class="pkg pkg">openssh-client</span> der Fall).
			</div><div class="para">
				Genauso oft wird die Dokumentation in einem speziell dafür vorgesehenen Paket bereitgestellt: der Nutzer kann es unabhängig von der Software installieren und sich jederzeit dazu entschließen, es zu entfernen, um Speicherplatz zu sparen. Darüberhinaus spart dies auch Speicherplatz auf den Debian Spiegelservern, da alle Dokumentationspakete von allen Architekturen gemeinsam benutzt werden (anstatt die Dokumentation mehrfach in den Paketen jeder Architektur zu haben).
			</div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong><span class="emphasis"><em>AUSBLICK</em></span> Verschiedene Quellpaket-Formate</strong></p></div></div></div><div class="para">
				Ursprünglich gab es nur ein Quellpaket-Format. Dies ist das <code class="literal">1.0</code>-Format, das ein <code class="filename">.orig.tar.gz</code>-Archiv einem <code class="filename">.diff.gz</code>-„Debianisierungspatch“ zuordnet (es gibt auch eine Variante, die aus einem einzeln <code class="filename">.tar.gz</code>-Archiv besteht, das automatisch verwendet wird, wenn kein <code class="filename">.orig.tar.gz</code> verfügbar ist).
			</div><div class="para">
				Seit Debian <span class="distribution distribution">Squeeze</span> haben Debianentwickler die Möglichkeit, neue Formate zu verwenden, die zahlreiche Probleme des früheren Formats beheben. Format <code class="literal">3.0 (quilt)</code> kann mehrere Ursprungsarchive in einem Quellpaket vereinen: zusätzlich zu den üblichen <code class="filename">.orig.tar.gz</code>-Archiven können ergänzende <code class="filename">.orig-<em class="replaceable"><code>komponente</code></em>.tar.gz</code>-Archive eingeschlossen werden. Dies ist bei Software hilfreich, die in Form verschiedener Ursprungskomponenten veröffentlicht wird, für die aber ein einzelnes Quellpaket erwünscht ist. Diese Archive können auch mit <code class="command">bzip2</code> oder <code class="command">xz</code> komprimiert werden statt mit <code class="command">gzip</code> (<code class="command">lzma</code> wird ebenfalls von <code class="command">dpkg-source</code> unterstützt, aber wird nicht für die offiziellen Archive akzeptiert), wodurch Speicherplatz und Netzwerkressourcen gespart werden. Schließlich wurde der monolithische Patch <code class="filename">.diff.gz</code> durch ein <code class="filename">.debian.tar.gz</code>-Archiv ersetzt, das die Kompilierungsanweisungen enthält und einen Satz von Ursprungspatches, die vom Paketbetreuer beigesteuert wurden. Letztere sind in einem Format aufgezeichnet, das mit <code class="command">quilt</code> kompatibel ist, einem Programm, das die Verwaltung einer Serie von Patches erleichtert.
			</div></div><div class="para">
				Die Datei <code class="filename">.orig.tar.gz</code> ist ein Archiv, das den Programm-Quellcode enthält, wie er vom ursprünglichen Entwickler bereitgestellt wurde. Debian-Entwickler sind gehalten, dieses Archiv nicht zu verändern, damit es möglich ist, die Herkunft und Integrität der Datei (durch einen einfachen Vergleich mit einer Prüfsumme) zu kontrollieren, und um die Wünsche mancher Autoren zu berücksichtigen.
			</div><div class="para">
				Das <code class="filename">.debian.tar.gz</code>-Archiv enthält alle vom Debian-Betreuer vorgenommenen Veränderungen, insbesondere auch ein ergänzendes <code class="filename">debian</code>-Verzeichnis, das die Ausführungsanweisungen für die Erstellung eines Debian-Paketes enthält.
			</div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong><span class="emphasis"><em>HILFSPROGRAMM</em></span> Ein Quellpaket entpacken</strong></p></div></div></div><a id="idm139785328121904" class="indexterm"></a><a id="idm139785328120784" class="indexterm"></a><a id="idm139785328119824" class="indexterm"></a><a id="idm139785328118896" class="indexterm"></a><div class="para">
				Falls Sie ein Quellpaket haben, können Sie den Befehl <code class="command">dpkg-source</code> (aus dem <span class="emphasis"><em>dpkg-dev</em></span>-Paket) zum Entpacken verwenden:
			</div><pre class="screen"><code class="computeroutput">$ </code><strong class="userinput"><code>dpkg-source -x package_0.7-1.dsc</code></strong></pre><div class="para">
				Sie können auch <code class="command">apt-get</code> dazu benutzen, ein Quellpaket herunterzuladen und direkt zu entpacken. Hierzu ist es jedoch erforderlich, dass die entsprechenden <span class="emphasis"><em>deb-src</em></span>-Zeilen in der Datei <code class="filename">/etc/apt/sources.list</code> vorhanden sind (für weitere Einzelheiten siehe <a class="xref" href="apt.html#sect.apt-sources.list">Abschnitt 6.1, „Befüllen der <code class="filename">sources.list</code> Datei“</a>). Diese dienen dazu, die „Quellen“ der Quellpakete aufzulisten (das heißt, die Server, die eine Gruppe von Quellpaketen beherbergen).
			</div><pre class="screen"><code class="computeroutput">$ </code><strong class="userinput"><code>apt-get source <em class="replaceable"><code>package</code></em></code></strong></pre></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns="" id="idm139785328110720"></a>5.3.2. Verwendung innerhalb von Debian</h3></div></div></div><div class="para">
				Das Quellpaket ist die Grundlage für alles in Debian. Alle Debian-Pakete entstammen einem Quellpaket, und jede Veränderung in einem Debian-Paket ist die Folge einer Veränderung in eines solchen. Die Debian-Betreuer arbeiten mit dem Quellpaket, kennen jedoch die Auswirkungen ihrer Änderungen auf die Binärpakete. Die Ergebnisse ihrer Arbeit basieren auf den von Debian bereitgestellten Quellpaketen: sie können problemlos zu diesen zurückkehren, da alles Weitere darauf aufbaut.
			</div><div class="para">
				Wenn eine neue Version eines Pakets (Quellpaket und ein oder mehrere Binärpakete) beim Debian-Server eintrifft, ist das Quellpaket das wichtigste. Es wird dann nämlich von einem Netzwerk aus Rechnern verschiedener Architekturen benutzt, um Kompilierungen für die verschiedenen von Debian unterstützten Architekturen zu erstellen. Die Tatsache, dass der Entwickler auch ein oder mehrere Binärpakete für eine bestimmte Architektur mitschickt (gewöhnlich i386 oder amd64), ist relativ unwichtig, da diese genauso gut automatisch erzeugt worden sein könnten.
			</div></div></div><ul class="docnav"><li class="previous"><a accesskey="p" href="sect.package-meta-information.html"><strong>Zurück</strong>5.2. Paket-Meta-Information</a></li><li class="up"><a accesskey="u" href="#"><strong>Nach oben</strong></a></li><li class="home"><a accesskey="h" href="index.html"><strong>Zum Anfang</strong></a></li><li class="next"><a accesskey="n" href="sect.manipulating-packages-with-dpkg.html"><strong>Weiter</strong>5.4. Pakete mit dpkg handhaben</a></li></ul></body></html>