<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>6.6. Von einer Stable Distribution auf die nächste aktualisieren</title><link rel="stylesheet" type="text/css" href="Common_Content/css/default.css" /><link rel="stylesheet" media="print" href="Common_Content/css/print.css" type="text/css" /><meta name="generator" content="publican 3.1.5" /><meta name="package" content="Debian-debian-handbook-7-de-DE-1.0-1" /><meta name="keywords" content="apt-get, apt-cache, aptitude, synaptic, sources.list, apt-cdrom" /><link rel="home" href="index.html" title="Das Debian Administrationshandbuch" /><link rel="up" href="apt.html" title="Kapitel 6. Wartung und Aktualisierung: Die APT-Tools" /><link rel="prev" href="sect.package-authentication.html" title="6.5. Die Echtheit eines Paketes prüfen" /><link rel="next" href="sect.regular-upgrades.html" title="6.7. Ein System aktuell halten" /></head><body><p id="title"><a class="left" href="http://www.debian.org"><img alt="Product Site" src="Common_Content/images//image_left.png" /></a><a class="right" href="http://debian-handbook.info"><img alt="Documentation Site" src="Common_Content/images//image_right.png" /></a></p><ul class="docnav top"><li class="previous"><a accesskey="p" href="sect.package-authentication.html"><strong>Zurück</strong></a></li><li class="home">Das Debian Administrationshandbuch</li><li class="next"><a accesskey="n" href="sect.regular-upgrades.html"><strong>Weiter</strong></a></li></ul><div class="section"><div class="titlepage"><div><div><h2 class="title"><a xmlns="" id="sect.dist-upgrade"></a>6.6. Von einer Stable Distribution auf die nächste aktualisieren</h2></div></div></div><div class="para">
			Eine der bekanntesten Eigenschaften von Debian ist die Fähigkeit, ein installiertes System von einer Stable Veröffentlichung auf die nächste aktualisieren zu können: <span class="foreignphrase"><em class="foreignphrase">dist-upgrade</em></span> – ein wohlbekannter Ausdruck – hat erheblich zum Ansehen des Projekts beigetragen. Mit ein paar Vorkehrungen dauert die Aktualisierung eines Computers zwischen wenigen Minuten bis zu einigen Duzend Minuen, abhängig von der Downloadgeschwindigkeit der Paketquellen.
		</div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns="" id="idm139785312173008"></a>6.6.1. Empfohlene Vorgehensweise</h3></div></div></div><div class="para">
				Da Debian einiges an Zeit zur Weiterentwicklung zwischen den Stable Veröffentlichungen hat, sollten Sie vor einer Aktualisierung die Veröffentlichungshinweise lesen.
			</div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong><span class="emphasis"><em>ZURÜCK ZU DEN GRUNDLAGEN</em></span> Veröffentlichungshinweise</strong></p></div></div></div><div class="para">
				Die Veröffentlichungshinweise für ein Betriebssystem (oder generell für jede Software) geben einen Überblick über die Software mit Details zu den Besonderheiten der Version. Im Vergleich mit der vollständigen Dokumentation sind diese Dokumente eher kurz und sie führen die seit der letzten Version neu hinzugekommenen Eigenschaften auf. Ebenfalls enthalten sie Einzelheiten zur Aktualisierungsvorgehensweise, Warnungen für Benutzer von vorigen Versionen und manchmal ein Fehlerverzeichnis.
			</div><div class="para">
				Veröffentlichungshinweise sind online verfügbar: Die Veröffentlichungshinweise für die aktuelle Stable Veröffentlichung haben eine fest zugeordnete URL, während ältere Veröffentlichungshinweise unter ihrem Codenamen zu finden sind: <div xmlns="" class="url">→ <a xmlns="http://www.w3.org/1999/xhtml" href="http://www.debian.org/releases/stable/releasenotes">http://www.debian.org/releases/stable/releasenotes</a></div> <div xmlns="" class="url">→ <a xmlns="http://www.w3.org/1999/xhtml" href="http://www.debian.org/releases/squeeze/releasenotes">http://www.debian.org/releases/squeeze/releasenotes</a></div>
			</div></div><div class="para">
				In diesem Abschnitt gehen wir auf die Aktualisierung eines <span class="distribution distribution">Squeeze</span> Systems auf <span class="distribution distribution">Wheezy</span> ein. Dies ist ein erheblicher Eingriff in ein System, der niemals 100% risikofrei ist und nur nach der Sicherung aller wichtigen Daten unternommen werden sollte.
			</div><div class="para">
				Eine weitere gute Eigeschaft, die das Aktualisieren erleichtert (und verkürzt), ist das Aufräumen der installierten Pakete und dadurch nur die zu behalten, die wirklich gebraucht werden. Hilfreiche Werkzeuge dazu sind unter anderem <code class="command">aptitude</code>, <code class="command">deborphan</code> und <code class="command">debfoster</code> (siehe <a class="xref" href="sect.apt-get.html#sect.automatic-tracking">Abschnitt 6.2.7, „Automatisch installierte Pakete nachverfolgen“</a>). Sie können beispielsweise untenstehenden Befehl absetzen und anschließend im interaktiven Modus von <code class="command">aptitude</code> die geplanten Aufräumarbeiten genau zu überprüfen und Feineinstellungen vornehmen:
			</div><pre class="screen"># <strong class="userinput"><code>deborphan | xargs aptitude --schedule-only remove</code></strong></pre><div class="para">
				Nun zur Aktualisierung selbst: Zuerst müssen Sie die Datei <code class="filename">/etc/apt/sources.list</code> anpassen, um APT anzuweisen, die Pakete aus <span class="distribution distribution">Wheezy</span> anstatt aus <span class="distribution distribution">Squeeze</span> zu verwenden. Wenn die Datei ausschließlich Verweise auf <span class="distribution distribution">Stable</span> statt auf einen expliziten Codenamen enthält, ist diese Änderung nicht einmal nötig, da <span class="distribution distribution">Stable</span> immer auf die zuletzt veröffentlichte Version von Debian zeigt. In beiden Fällen muss die Datenbank der verfügbaren Pakete aktualisiert werden (mit dem Befehl <code class="command">apt-get update</code> oder der Schaltfläche "Neu laden" in <code class="command">synaptic</code>).
			</div><div class="para">
				Wenn diese Paketquellen einmal registriert sind, sollte man zuerst eine minimale Aktualisierung mit <code class="command">apt-get upgrade</code> durchführen. Wenn man die Aktualisierung in zwei Schritten durchführt, erleichtert man die Arbeit der Paket-Verwaltungswerkzeuge und stellt sicher, dass diese in der aktuellsten Version verwendet werden, die möglicherweise die notwendigen bisher aufgelaufenen Fehlerkorrekturen und Verbesserungen beinhalten, um die komplette Aktualisierung der Distribution durchzuführen.
			</div><div class="para">
				Nachdem zuerst die Aktualisierung der Werkzeuge geschehen ist, ist es an der Zeit, die eigentliche Aktualisierung anzugehen, entweder mit <code class="command">apt-get dist-upgrade</code> oder <code class="command">aptitude</code> oder <code class="command">synaptic</code>. Sie sollten die vorgeschlagenen Aktionen sehr sorgfältig prüfen, bevor Sie sie ausführen: Vielleicht möchten Sie vorgeschlagene Pakete auswählen oder nur empfohlene Pakete abwählen, die als nicht nützlich bekannt sind. In jedem Fall sollte die Benutzeroberfläche ein Szenario vorschlagen, das in einem kohärenten, aktuellen <span class="distribution distribution">Wheezy</span> System resultiert. Danach müssen Sie sich nur noch gedulden, bis die benötigten Pakete heruntergeladen sind, die Fragen von Debconf und möglicherweise über lokal veränderte Konfigurationsdateien beantworten und sich zurücklehnen, während APT seine Magie wirkt.
			</div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns="" id="idm139785312150176"></a>6.6.2. Problembehandlung nach einer Aktualisierung</h3></div></div></div><div class="para">
				Trotz der Anstrengungen der Debian-Betreuer verläuft eine größere Systemaktualisierung nicht immer so problemlos, wie man es sich wünschen würde. Neue Softwareversionen könnten inkompatibel zu ihren Vorgängern sein (beispielsweise, weil sich Standardverhaltensweisen oder Datenformate geändert haben). Auch könnten sich Fehler durch die, jeder Debian Veröffentlichung vorangehende, Testphase hindurch gemogelt haben.
			</div><div class="para">
				Um solche Probleme vorwegzunehmen, können Sie das Paket <span class="pkg pkg">apt-listchanges</span> installieren, welches Informationen über mögliche Probleme zu Beginn jeder Paketaktualisierung einblendet. Diese Informationen werden von den Paketbetreuern zusammen- und in <code class="filename">/usr/share/doc/<em class="replaceable"><code>Paket</code></em>/NEWS.Debian</code> Dateien zum Nutzen der Anwender bereitgestellt. Das Lesen dieser Dateien (möglicherweise mittels <span class="pkg pkg">apt-listchanges</span>) sollte helfen, Sie vor bösen Überraschungen zu bewahren.
			</div><div class="para">
				Manchmal werden Sie feststellen, dass die neue Version einer Software überhaupt nicht funktioniert. Das passiert allgemein bei Applikationen, die nicht besonders populär und deshalb nicht ausgiebig genug getestet sind. Eine Aktualisierung in letzter Minute kann zu Regressionsfehlern führen, die erst nach der Veröffentlichung erkannt werden. In beiden Fällen ist der erste Schritt, einen Blick in die Fehlerdatenbank unter <code class="literal">http://bugs.debian.org/<em class="replaceable"><code>Paket</code></em></code> zu werfen, um zu prüfen, ob das Problem bereits gemeldet wurde. Falls nicht, sollten Sie es mittels <code class="command">reportbug</code> melden. Falls das Problem bereits bekannt ist, ist der Fehlerbericht in Verbindung mit den verknüpften Meldungen üblicherweise eine exzellente Informationsquelle zu dem Fehler:
			</div><div class="itemizedlist"><ul><li class="listitem"><div class="para">
						manchmal existiert bereits ein Patch und ist im Fehlerbericht verfügbar. Sie können dann die korrigierte Version des defekten Pakets lokal übersetzen (siehe <a class="xref" href="debian-packaging.html#sect.rebuilding-package">Abschnitt 15.1, „Ein Paket aus seinen Quellen neu erstellen“</a>);
					</div></li><li class="listitem"><div class="para">
						in anderen Fällen könnten andere Anwender bereits eine Übergangslösung für das Problem gefunden und ihre Erkenntnisse in den Antworten zum Fehlerbericht geteilt haben;
					</div></li><li class="listitem"><div class="para">
						und in wieder anderen Fällen könnte der Paketbetreuer bereits ein korrigiertes Paket gebaut und veröffentlicht haben.
					</div></li></ul></div><div class="para">
				Abhängig von der Schwere eines Fehlers, kann eine neue Paketversion speziell für die nächste Ausgabe der Stable Veröffentlichung vorbereitet werden. Sollte dies der Fall sein, wird das korrigierte Paket im Bereich <code class="literal">proposed-updates</code> der Debian Spiegelserver bereitgestellt (siehe <a class="xref" href="apt.html#sect.proposed-updates">Abschnitt 6.1.2.3, „Proposed Updates“</a>). Der entsprechende Eintrag kann dann temporär der Datei <code class="filename">sources.list</code> hinzugefügt werden. Aktualisierte Pakete können mit <code class="command">apt-get</code> oder <code class="command">aptitude</code> installiert werden.
			</div><div class="para">
				Manchmal ist das korrigierte Paket nicht in diesem Bereich verfügbar, weil es noch von den Stable Release Managern geprüft werden muss. Sie können auf deren Webseite prüfen, ob dies der Fall ist. Dort aufgeführte Pakete sind noch nicht verfügbar, aber wenigstens wissen Sie, dass der Veröffentlichungsprozess läuft. <div xmlns="" class="url">→ <a xmlns="http://www.w3.org/1999/xhtml" href="http://release.debian.org/proposed-updates/stable.html">http://release.debian.org/proposed-updates/stable.html</a></div>
			</div></div></div><ul class="docnav"><li class="previous"><a accesskey="p" href="sect.package-authentication.html"><strong>Zurück</strong>6.5. Die Echtheit eines Paketes prüfen</a></li><li class="up"><a accesskey="u" href="#"><strong>Nach oben</strong></a></li><li class="home"><a accesskey="h" href="index.html"><strong>Zum Anfang</strong></a></li><li class="next"><a accesskey="n" href="sect.regular-upgrades.html"><strong>Weiter</strong>6.7. Ein System aktuell halten</a></li></ul></body></html>